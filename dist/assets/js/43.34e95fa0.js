(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{370:function(a,s,t){"use strict";t.r(s);var e=t(10),r=Object(e.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h2",{attrs:{id:"centos-7-x-防火墙配置指南"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#centos-7-x-防火墙配置指南"}},[a._v("#")]),a._v(" CentOS 7.x 防火墙配置指南")]),a._v(" "),s("p",[a._v("防火墙是保障系统安全的一个重要组件，通过对进出网络流量的控制，可以有效防止未经授权的访问。本文将详细介绍如何在 CentOS 7.x 上配置和管理防火墙。")]),a._v(" "),s("h3",{attrs:{id:"_1-查看-firewall-服务状态"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-查看-firewall-服务状态"}},[a._v("#")]),a._v(" 1. 查看 Firewall 服务状态")]),a._v(" "),s("p",[a._v("要检查 "),s("code",[a._v("firewalld")]),a._v(" 服务的运行状态，可以使用以下命令：")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("systemctl status firewalld\n")])])]),s("p",[a._v("该命令将显示 "),s("code",[a._v("firewalld")]),a._v(" 服务的当前状态，例如是否正在运行、是否启用等。")]),a._v(" "),s("p",[s("img",{attrs:{src:"https://lidy-1300763668.cos.ap-nanjing.myqcloud.com/image/202407162136549.png",alt:"Firewall 服务状态"}})]),a._v(" "),s("h3",{attrs:{id:"_2-查看-firewall-的状态"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-查看-firewall-的状态"}},[a._v("#")]),a._v(" 2. 查看 Firewall 的状态")]),a._v(" "),s("p",[a._v("要简单地查看 "),s("code",[a._v("firewalld")]),a._v(" 服务是否正在运行，可以使用：")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("firewall-cmd "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--state")]),a._v("\n")])])]),s("p",[a._v("该命令将返回 "),s("code",[a._v("running")]),a._v(" 表示防火墙正在运行，返回 "),s("code",[a._v("not running")]),a._v(" 则表示防火墙未运行。")]),a._v(" "),s("p",[s("img",{attrs:{src:"https://lidy-1300763668.cos.ap-nanjing.myqcloud.com/image/202407162137753.png",alt:"Firewall 状态"}})]),a._v(" "),s("h3",{attrs:{id:"_3-启动、重启、停止-firewalld-服务"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-启动、重启、停止-firewalld-服务"}},[a._v("#")]),a._v(" 3. 启动、重启、停止 "),s("code",[a._v("firewalld")]),a._v(" 服务")]),a._v(" "),s("p",[a._v("根据需要，可以启动、重启或停止 "),s("code",[a._v("firewalld")]),a._v(" 服务：")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 启动服务")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("service")]),a._v(" firewalld start\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 重启服务")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("service")]),a._v(" firewalld restart\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 停止服务")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("service")]),a._v(" firewalld stop\n")])])]),s("p",[a._v("这些命令可以帮助你在不同情况下控制 "),s("code",[a._v("firewalld")]),a._v(" 服务的运行状态。")]),a._v(" "),s("h3",{attrs:{id:"_4-查看防火墙规则"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-查看防火墙规则"}},[a._v("#")]),a._v(" 4. 查看防火墙规则")]),a._v(" "),s("p",[a._v("要查看当前防火墙的全部规则，可以使用：")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("firewall-cmd --list-all\n")])])]),s("p",[a._v("该命令会列出所有的区域和相关的规则配置，包括已开放的端口、服务、转发规则等信息。")]),a._v(" "),s("p",[s("img",{attrs:{src:"https://lidy-1300763668.cos.ap-nanjing.myqcloud.com/image/202407162137259.png",alt:"防火墙规则"}})]),a._v(" "),s("h3",{attrs:{id:"_5-查询、开放、关闭端口"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-查询、开放、关闭端口"}},[a._v("#")]),a._v(" 5. 查询、开放、关闭端口")]),a._v(" "),s("p",[a._v("防火墙允许你查询特定端口的状态以及开放或关闭端口。以下是一些常用的命令：")]),a._v(" "),s("p",[s("strong",[a._v("查询端口是否开放：")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("firewall-cmd --query-port"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("80")]),a._v("/tcp\n")])])]),s("p",[s("strong",[a._v("开放端口：")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 开放80端口")]),a._v("\nfirewall-cmd "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--permanent")]),a._v(" --add-port"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("80")]),a._v("/tcp\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 开放5000-6000端口")]),a._v("\nfirewall-cmd "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--permanent")]),a._v(" --add-port"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("5000")]),a._v("-6000/tcp\n")])])]),s("p",[s("strong",[a._v("关闭端口：")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 移除80端口")]),a._v("\nfirewall-cmd "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--permanent")]),a._v(" --remove-port"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("80")]),a._v("/tcp\n")])])]),s("p",[a._v("注意："),s("code",[a._v("--permanent")]),a._v(" 参数表示持久化更改，需要重启防火墙以应用新配置：")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("firewall-cmd "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--reload")]),a._v("\n")])])]),s("h3",{attrs:{id:"_6-其他常用防火墙操作"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-其他常用防火墙操作"}},[a._v("#")]),a._v(" 6. 其他常用防火墙操作")]),a._v(" "),s("p",[s("strong",[a._v("查看特定区域的规则：")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("firewall-cmd "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--zone")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("public --list-all\n")])])]),s("p",[s("strong",[a._v("添加服务到特定区域：")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("firewall-cmd "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--zone")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("public --add-service"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("http "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--permanent")]),a._v("\n")])])]),s("p",[s("strong",[a._v("移除服务：")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("firewall-cmd "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--zone")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("public --remove-service"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("http "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--permanent")]),a._v("\n")])])]),s("p",[s("strong",[a._v("设置默认区域：")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("firewall-cmd --set-default-zone"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("public\n")])])]),s("p",[a._v("通过以上操作，你可以灵活地管理 CentOS 7.x 系统的防火墙，确保系统的网络安全。")])])}),[],!1,null,null,null);s.default=r.exports}}]);